Добавил async к скриптам
Добавил фукнцию throttle для уменьшения вызовов функции по событию scroll
Вынес создание больших массивов из функции обработчика scroll